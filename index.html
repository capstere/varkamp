<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>G√•ta 5 ‚Äì Slutkluring</title>
  <style>
    body { margin:0; padding:20px; font-family:sans-serif; background:#2d5f2e; color:#fff; }
    h1 { text-align:center; margin-bottom:1rem; }
    .card { background:#3d7f3e; border-radius:8px; max-width:400px; margin:0 auto; padding:20px; }
    .card input, .card button { width:100%; margin-bottom:12px; padding:8px; border:none; border-radius:4px; box-sizing:border-box; }
    .card input { background:#f0f8e0; color:#333; }
    .card button { background:#f4e842; font-weight:bold; cursor:pointer; }
    #summary { display:none; text-align:center; }
    #summary img { max-width:100%; border:2px solid #fff; border-radius:4px; margin-bottom:12px; }
    #summary p { margin:8px 0; }
    #send-info { margin-top:1rem; font-size:0.9rem; }
  </style>
</head>
<body>

  <h1>G√•ta 5 ‚Äì Slutkluring</h1>
  <div class="card" id="form-card">
    <p>Ta en gruppbild med tr√§det i bakgrunden och v√§lj den h√§r:</p>
    <input type="file" id="photo" accept="image/*" required>
    <input type="text" id="latin" name="latin" placeholder="Tr√§dets namn (latin)" required>
    <input type="text" id="team"  name="team"  placeholder="Lagnamn" required>
    <button id="submit">Skicka</button>
  </div>

  <div class="card" id="summary">
    <h1>üéâ Bra jobbat!</h1>
    <img id="sum-photo" src="" alt="Gruppbild">
    <p><strong>Tr√§d (latin):</strong> <span id="sum-latin"></span></p>
    <p><strong>Lagnamn:</strong> <span id="sum-team"></span></p>
    <p><strong>Tid:</strong> <span id="sum-time"></span></p>
    <p id="send-info">
      Sk√§rmdumpa den h√§r vyn och skicka den via SMS till:<br>
      <strong>+46 730 736 978</strong>
    </p>
  </div>

  <script>
    // M√§t starttid s√• fort sidan laddas
    const startTs = Date.now();

    document.getElementById('submit').addEventListener('click', e => {
      e.preventDefault();
      const photoInput = document.getElementById('photo');
      const latinVal  = document.getElementById('latin').value.trim();
      const teamVal   = document.getElementById('team').value.trim();

      if (!photoInput.files.length || !latinVal || !teamVal) {
        alert('Du m√•ste v√§lja en bild och fylla i b√•de latin¬≠namn och lagnamn!');
        return;
      }

      // Ber√§kna tid (m:ss)
      const elapsed = Date.now() - startTs;
      const m = Math.floor(elapsed / 60000);
      const s = Math.floor((elapsed % 60000) / 1000);
      const timeStr = m + ':' + String(s).padStart(2, '0');

      // Visa summary
      const reader = new FileReader();
      reader.onload = () => {
        document.getElementById('sum-photo').src        = reader.result;
        document.getElementById('sum-latin').textContent = latinVal;
        document.getElementById('sum-team').textContent  = teamVal;
        document.getElementById('sum-time').textContent  = timeStr;

        document.getElementById('form-card').style.display = 'none';
        document.getElementById('summary').style.display    = 'block';
      };
      reader.readAsDataURL(photoInput.files[0]);
    });
  </script>

</body>
</html>